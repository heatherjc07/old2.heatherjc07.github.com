{"url":"https://api.github.com/gists/5224957","forks_url":"https://api.github.com/gists/5224957/forks","commits_url":"https://api.github.com/gists/5224957/commits","id":"5224957","git_pull_url":"https://gist.github.com/5224957.git","git_push_url":"https://gist.github.com/5224957.git","html_url":"https://gist.github.com/5224957","files":{"CreateUserAccountForm.java":{"filename":"CreateUserAccountForm.java","type":"text/plain","language":"Java","raw_url":"https://gist.githubusercontent.com/heatherjc07/5224957/raw/57ccb64cc57aae081a13151a21b3d3c6c79d820b/CreateUserAccountForm.java","size":215,"truncated":false,"content":"@Matches(field=\"password\", verifyField=\"passwordRepeat\") \npublic class CreateUserAccountForm { \n\n  @Size(min=6, max=20) \n  private String password;\n\n  @Size(min=6, max=20) \n  private String passwordRepeat; \n  ... \n}"},"Matches.java":{"filename":"Matches.java","type":"text/plain","language":"Java","raw_url":"https://gist.githubusercontent.com/heatherjc07/5224957/raw/bd64317d893815b2e3e69dedc5ec12b99caf3c0e/Matches.java","size":596,"truncated":false,"content":"import static java.lang.annotation.ElementType.*;\nimport static java.lang.annotation.RetentionPolicy.*;\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.Target;\nimport javax.validation.Constraint;\nimport javax.validation.Payload;\n\n@Target({TYPE, ANNOTATION_TYPE})\n@Retention(RUNTIME)\n@Constraint(validatedBy = MatchesValidator.class)\n@Documented\npublic @interface Matches {\n\n  String message() default \"{constraints.matches}\"; \n  Class[] groups() default {}; \n  Class[] payload() default {}; \n  String field(); \n  String verifyField();\n\n}"},"MatchesTest.java":{"filename":"MatchesTest.java","type":"text/plain","language":"Java","raw_url":"https://gist.githubusercontent.com/heatherjc07/5224957/raw/1f340cfe19a21c7a155ab05c8c0bcc7b4e611c46/MatchesTest.java","size":1221,"truncated":false,"content":"import static org.junit.Assert.*;\nimport java.util.Set;\nimport javax.validation.ConstraintViolation;\nimport javax.validation.Validation;\nimport javax.validation.Validator;\nimport javax.validation.ValidatorFactory;\nimport org.junit.BeforeClass;\nimport org.junit.Test;\n\npublic class MatchesTest {\n \n  private static Validator validator;  \n \n  @BeforeClass\n  public static void setUp() {\n    ValidatorFactory factory \n      = Validation.buildDefaultValidatorFactory();\n    validator = factory.getValidator();\n  }\n\n  @Test\n  public void testPasswordsNotMatching () {\n    CreateUserAccountForm form \n      = new CreateUserAccountForm (\"Password1\", \"PasswordBlah\");\n      \n    Set> constraintViolations =\n\n    validator.validate(form);\n\n    assertEquals(1, constraintViolations.size());\n    assertEquals(\n     \"Your confirmation password does not match the password you entered.\", \n      constraintViolations.iterator().next()\n      .getInterpolatedMessage());\n  }\n  \n  @Test\n  public void testPasswordsValid() {\n    CreateUserAccountForm form \n      = new CreateUserAccountForm(\"Password1\", \"Password1\");\n\n    Set> constraintViolations = \n      validator.validate(form);\n    assertEquals(0, constraintViolations.size());\n  }\n}"},"MatchesValidator.java":{"filename":"MatchesValidator.java","type":"text/plain","language":"Java","raw_url":"https://gist.githubusercontent.com/heatherjc07/5224957/raw/473ab11368b8a1503130d1bf2a4634770d217df5/MatchesValidator.java","size":1082,"truncated":false,"content":"import org.mvel2.MVEL;\nimport javax.validation.ConstraintValidator; \nimport javax.validation.ConstraintValidatorContext; \n\npublic class MatchesValidator implements ConstraintValidator{ \n\n  private String field;\n  private String verifyField; \n\n  public void initialize(Matches constraintAnnotation){ \n    this.field = constraintAnnotation.field(); \n    this.verifyField = constraintAnnotation.verifyField(); \n  } \n  \n  public boolean isValid(Object value, ConstraintValidatorContext context){ \n    Object fieldObj = MVEL.getProperty(field, value); \n    Object verifyFieldObj = MVEL.getProperty(verifyField, value); \n    boolean neitherSet = (fieldObj == null) && (verifyFieldObj == null); \n\n    if (neitherSet) { \n      return true; \n    } \n\n    boolean matches = (fieldObj != null) \n                        && fieldObj.equals(verifyFieldObj); \n\n    if (!matches) { \n      context.disableDefaultConstraintViolation(); \n      context.buildConstraintViolationWithTemplate(\"message\")\n        .addNode(verifyField) \n        .addConstraintViolation(); \n    } \n\n    return matches; \n  } \n}"},"ValidationMessages.properties":{"filename":"ValidationMessages.properties","type":"text/plain","language":"INI","raw_url":"https://gist.githubusercontent.com/heatherjc07/5224957/raw/620faf7416717edcb780ec9a3062f45dc944beca/ValidationMessages.properties","size":92,"truncated":false,"content":"constraints.matches\n   =Your confirmation password does not match the password you entered. "}},"public":true,"created_at":"2013-03-22T21:36:58Z","updated_at":"2015-10-22T16:37:10Z","description":"","comments":0,"user":null,"comments_url":"https://api.github.com/gists/5224957/comments","owner":{"login":"heatherjc07","id":1538103,"avatar_url":"https://avatars.githubusercontent.com/u/1538103?v=3","gravatar_id":"","url":"https://api.github.com/users/heatherjc07","html_url":"https://github.com/heatherjc07","followers_url":"https://api.github.com/users/heatherjc07/followers","following_url":"https://api.github.com/users/heatherjc07/following{/other_user}","gists_url":"https://api.github.com/users/heatherjc07/gists{/gist_id}","starred_url":"https://api.github.com/users/heatherjc07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heatherjc07/subscriptions","organizations_url":"https://api.github.com/users/heatherjc07/orgs","repos_url":"https://api.github.com/users/heatherjc07/repos","events_url":"https://api.github.com/users/heatherjc07/events{/privacy}","received_events_url":"https://api.github.com/users/heatherjc07/received_events","type":"User","site_admin":false},"forks":[],"history":[{"user":{"login":"heatherjc07","id":1538103,"avatar_url":"https://avatars.githubusercontent.com/u/1538103?v=3","gravatar_id":"","url":"https://api.github.com/users/heatherjc07","html_url":"https://github.com/heatherjc07","followers_url":"https://api.github.com/users/heatherjc07/followers","following_url":"https://api.github.com/users/heatherjc07/following{/other_user}","gists_url":"https://api.github.com/users/heatherjc07/gists{/gist_id}","starred_url":"https://api.github.com/users/heatherjc07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heatherjc07/subscriptions","organizations_url":"https://api.github.com/users/heatherjc07/orgs","repos_url":"https://api.github.com/users/heatherjc07/repos","events_url":"https://api.github.com/users/heatherjc07/events{/privacy}","received_events_url":"https://api.github.com/users/heatherjc07/received_events","type":"User","site_admin":false},"version":"a51bd97c8e1b4f5a5bdfd7c009605c5aa51093d3","committed_at":"2015-10-22T16:37:10Z","change_status":{"total":9,"additions":5,"deletions":4},"url":"https://api.github.com/gists/5224957/a51bd97c8e1b4f5a5bdfd7c009605c5aa51093d3"},{"user":{"login":"heatherjc07","id":1538103,"avatar_url":"https://avatars.githubusercontent.com/u/1538103?v=3","gravatar_id":"","url":"https://api.github.com/users/heatherjc07","html_url":"https://github.com/heatherjc07","followers_url":"https://api.github.com/users/heatherjc07/followers","following_url":"https://api.github.com/users/heatherjc07/following{/other_user}","gists_url":"https://api.github.com/users/heatherjc07/gists{/gist_id}","starred_url":"https://api.github.com/users/heatherjc07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heatherjc07/subscriptions","organizations_url":"https://api.github.com/users/heatherjc07/orgs","repos_url":"https://api.github.com/users/heatherjc07/repos","events_url":"https://api.github.com/users/heatherjc07/events{/privacy}","received_events_url":"https://api.github.com/users/heatherjc07/received_events","type":"User","site_admin":false},"version":"97f8aabbfc8c908932eba34cd2d0dfe89ebe3c3a","committed_at":"2013-03-23T09:00:18Z","change_status":{"total":46,"additions":46,"deletions":0},"url":"https://api.github.com/gists/5224957/97f8aabbfc8c908932eba34cd2d0dfe89ebe3c3a"},{"user":{"login":"heatherjc07","id":1538103,"avatar_url":"https://avatars.githubusercontent.com/u/1538103?v=3","gravatar_id":"","url":"https://api.github.com/users/heatherjc07","html_url":"https://github.com/heatherjc07","followers_url":"https://api.github.com/users/heatherjc07/followers","following_url":"https://api.github.com/users/heatherjc07/following{/other_user}","gists_url":"https://api.github.com/users/heatherjc07/gists{/gist_id}","starred_url":"https://api.github.com/users/heatherjc07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heatherjc07/subscriptions","organizations_url":"https://api.github.com/users/heatherjc07/orgs","repos_url":"https://api.github.com/users/heatherjc07/repos","events_url":"https://api.github.com/users/heatherjc07/events{/privacy}","received_events_url":"https://api.github.com/users/heatherjc07/received_events","type":"User","site_admin":false},"version":"d4ed8e08e6c70af90ff5bb37e83fb0c4f5d91b32","committed_at":"2013-03-23T08:51:57Z","change_status":{"total":10,"additions":10,"deletions":0},"url":"https://api.github.com/gists/5224957/d4ed8e08e6c70af90ff5bb37e83fb0c4f5d91b32"},{"user":{"login":"heatherjc07","id":1538103,"avatar_url":"https://avatars.githubusercontent.com/u/1538103?v=3","gravatar_id":"","url":"https://api.github.com/users/heatherjc07","html_url":"https://github.com/heatherjc07","followers_url":"https://api.github.com/users/heatherjc07/followers","following_url":"https://api.github.com/users/heatherjc07/following{/other_user}","gists_url":"https://api.github.com/users/heatherjc07/gists{/gist_id}","starred_url":"https://api.github.com/users/heatherjc07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heatherjc07/subscriptions","organizations_url":"https://api.github.com/users/heatherjc07/orgs","repos_url":"https://api.github.com/users/heatherjc07/repos","events_url":"https://api.github.com/users/heatherjc07/events{/privacy}","received_events_url":"https://api.github.com/users/heatherjc07/received_events","type":"User","site_admin":false},"version":"5b50e73076e46af1e34df5ddd9623b003ec4aa57","committed_at":"2013-03-23T08:49:56Z","change_status":{"total":3,"additions":2,"deletions":1},"url":"https://api.github.com/gists/5224957/5b50e73076e46af1e34df5ddd9623b003ec4aa57"},{"user":{"login":"heatherjc07","id":1538103,"avatar_url":"https://avatars.githubusercontent.com/u/1538103?v=3","gravatar_id":"","url":"https://api.github.com/users/heatherjc07","html_url":"https://github.com/heatherjc07","followers_url":"https://api.github.com/users/heatherjc07/followers","following_url":"https://api.github.com/users/heatherjc07/following{/other_user}","gists_url":"https://api.github.com/users/heatherjc07/gists{/gist_id}","starred_url":"https://api.github.com/users/heatherjc07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heatherjc07/subscriptions","organizations_url":"https://api.github.com/users/heatherjc07/orgs","repos_url":"https://api.github.com/users/heatherjc07/repos","events_url":"https://api.github.com/users/heatherjc07/events{/privacy}","received_events_url":"https://api.github.com/users/heatherjc07/received_events","type":"User","site_admin":false},"version":"d2e85218a2c8ee1e2841971a6481986790b1bb56","committed_at":"2013-03-23T08:49:05Z","change_status":{"total":1,"additions":1,"deletions":0},"url":"https://api.github.com/gists/5224957/d2e85218a2c8ee1e2841971a6481986790b1bb56"},{"user":{"login":"heatherjc07","id":1538103,"avatar_url":"https://avatars.githubusercontent.com/u/1538103?v=3","gravatar_id":"","url":"https://api.github.com/users/heatherjc07","html_url":"https://github.com/heatherjc07","followers_url":"https://api.github.com/users/heatherjc07/followers","following_url":"https://api.github.com/users/heatherjc07/following{/other_user}","gists_url":"https://api.github.com/users/heatherjc07/gists{/gist_id}","starred_url":"https://api.github.com/users/heatherjc07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heatherjc07/subscriptions","organizations_url":"https://api.github.com/users/heatherjc07/orgs","repos_url":"https://api.github.com/users/heatherjc07/repos","events_url":"https://api.github.com/users/heatherjc07/events{/privacy}","received_events_url":"https://api.github.com/users/heatherjc07/received_events","type":"User","site_admin":false},"version":"86f66410a68b1ee72b0270a9f39b29234bbbec7f","committed_at":"2013-03-23T08:45:14Z","change_status":{"total":3,"additions":2,"deletions":1},"url":"https://api.github.com/gists/5224957/86f66410a68b1ee72b0270a9f39b29234bbbec7f"},{"user":{"login":"heatherjc07","id":1538103,"avatar_url":"https://avatars.githubusercontent.com/u/1538103?v=3","gravatar_id":"","url":"https://api.github.com/users/heatherjc07","html_url":"https://github.com/heatherjc07","followers_url":"https://api.github.com/users/heatherjc07/followers","following_url":"https://api.github.com/users/heatherjc07/following{/other_user}","gists_url":"https://api.github.com/users/heatherjc07/gists{/gist_id}","starred_url":"https://api.github.com/users/heatherjc07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heatherjc07/subscriptions","organizations_url":"https://api.github.com/users/heatherjc07/orgs","repos_url":"https://api.github.com/users/heatherjc07/repos","events_url":"https://api.github.com/users/heatherjc07/events{/privacy}","received_events_url":"https://api.github.com/users/heatherjc07/received_events","type":"User","site_admin":false},"version":"1070573706afe5e9e4b332fbd71bbedc16b38ec8","committed_at":"2013-03-23T07:36:06Z","change_status":{"total":4,"additions":2,"deletions":2},"url":"https://api.github.com/gists/5224957/1070573706afe5e9e4b332fbd71bbedc16b38ec8"},{"user":{"login":"heatherjc07","id":1538103,"avatar_url":"https://avatars.githubusercontent.com/u/1538103?v=3","gravatar_id":"","url":"https://api.github.com/users/heatherjc07","html_url":"https://github.com/heatherjc07","followers_url":"https://api.github.com/users/heatherjc07/followers","following_url":"https://api.github.com/users/heatherjc07/following{/other_user}","gists_url":"https://api.github.com/users/heatherjc07/gists{/gist_id}","starred_url":"https://api.github.com/users/heatherjc07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heatherjc07/subscriptions","organizations_url":"https://api.github.com/users/heatherjc07/orgs","repos_url":"https://api.github.com/users/heatherjc07/repos","events_url":"https://api.github.com/users/heatherjc07/events{/privacy}","received_events_url":"https://api.github.com/users/heatherjc07/received_events","type":"User","site_admin":false},"version":"1e9805a2e5ef91957147057d9e78375663732697","committed_at":"2013-03-23T07:34:19Z","change_status":{"total":34,"additions":34,"deletions":0},"url":"https://api.github.com/gists/5224957/1e9805a2e5ef91957147057d9e78375663732697"},{"user":{"login":"heatherjc07","id":1538103,"avatar_url":"https://avatars.githubusercontent.com/u/1538103?v=3","gravatar_id":"","url":"https://api.github.com/users/heatherjc07","html_url":"https://github.com/heatherjc07","followers_url":"https://api.github.com/users/heatherjc07/followers","following_url":"https://api.github.com/users/heatherjc07/following{/other_user}","gists_url":"https://api.github.com/users/heatherjc07/gists{/gist_id}","starred_url":"https://api.github.com/users/heatherjc07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heatherjc07/subscriptions","organizations_url":"https://api.github.com/users/heatherjc07/orgs","repos_url":"https://api.github.com/users/heatherjc07/repos","events_url":"https://api.github.com/users/heatherjc07/events{/privacy}","received_events_url":"https://api.github.com/users/heatherjc07/received_events","type":"User","site_admin":false},"version":"49931a8a1a02ba5108791dc509220a8d039c1a53","committed_at":"2013-03-22T21:36:58Z","change_status":{"total":21,"additions":21,"deletions":0},"url":"https://api.github.com/gists/5224957/49931a8a1a02ba5108791dc509220a8d039c1a53"}]}