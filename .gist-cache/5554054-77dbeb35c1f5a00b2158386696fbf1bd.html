{"url":"https://api.github.com/gists/5554054","forks_url":"https://api.github.com/gists/5554054/forks","commits_url":"https://api.github.com/gists/5554054/commits","id":"5554054","git_pull_url":"https://gist.github.com/5554054.git","git_push_url":"https://gist.github.com/5554054.git","html_url":"https://gist.github.com/5554054","files":{"buy.erl":{"filename":"buy.erl","type":"text/plain","language":"Erlang","raw_url":"https://gist.githubusercontent.com/heatherjc07/5554054/raw/7e427864516b4598b2167bf5319f54517202041e/buy.erl","size":278,"truncated":false,"content":"-module(buy).\n-export([purchase/0]).\npurchase() ->\n  receive\n     finished ->\n            io:format(\"purchases finished~n\", []);\n     {purchase, Item, Quantity} ->\n            io:format(\"purchase received: ~p ~p ~n\", \n              [Quantity, Item]),\n            purchase()\nend."},"buy_sync.erl":{"filename":"buy_sync.erl","type":"text/plain","language":"Erlang","raw_url":"https://gist.githubusercontent.com/heatherjc07/5554054/raw/7fc32fd79d2c368d8d731a73e02daa9f182d640b/buy_sync.erl","size":831,"truncated":false,"content":"-module(buy_sync).\n-export([purchase/0, purchaser/3]).\npurchase() ->\n  receive\n     finished ->\n            io:format(\"purchases finished~n\", []);\n     {From,{purchase, Item, Quantity}} ->\n            io:format(\"purchase received: \n              ~p ~p ~n\", [Quantity, Item]),\n     From! printed,\n            purchase()\nend.\n\npurchaser(To, Item, Quantity) ->\n  To ! {self(), {purchase, Item, Quantity }},\n  receive\n     printed -&gt;\n           io:format(\"Purchase Printed~n\", [])\n\nend.\n\nc(buy_sync).\nPurchasePrinter = spawn(fun buy_sync:purchase/0).\nbuy_sync:purchaser(PurchasePrinter, \"pen\", 3).\n% prints \"purchase received: 3 pen\"\n% prints \"Purchase Printed\"\nbuy_sync:purchaser(PurchasePrinter, \"desk\", 1).\n% prints \"purchase received: 1 desk\"\n% prints \"Purchase Printed\"\nPurchasePrinter ! finished.\n% prints \"purchases finished\""},"coroner.erl":{"filename":"coroner.erl","type":"text/plain","language":"Erlang","raw_url":"https://gist.githubusercontent.com/heatherjc07/5554054/raw/75b90e11411616ccd6deda5839ce780c891d11b4/coroner.erl","size":666,"truncated":false,"content":"-module(coroner).\n-export([loop/0]).\nloop() ->\n  process_flag(trap_exit, true),\n  receive\n    {monitor, Process} ->\n      link(Process),\n      io:format(\"Monitoring process.~n\"),\n      loop();\n    {'EXIT', From, Reason} ->\n      io:format(\"The shooter died \n          with reason ~p.\", [Reason]),\n      io:format(\"Start another one.~n\"),\n      loop()\nend.\n\n\nc(roulette).\nc(coroner).\nRevolver=spawn(fun roulette:loop/0).\nCoroner=spawn(fun coroner:loop/0).\n\nCoroner ! {monitor, Revolver}.\n% prints Monitoring process.\n\nRevolver ! 1.\n% prints \"click\"\nRevolver ! 3.\n% prints \"bang.\"\n% prints \"The shooter died with reason\n%{roulette,die,at,{8,48,1}}. Start another one.%"},"doctor.erl":{"filename":"doctor.erl","type":"text/plain","language":"Erlang","raw_url":"https://gist.githubusercontent.com/heatherjc07/5554054/raw/5b0d641a2668ecf55a2ca9035087d0f2fc287155/doctor.erl","size":715,"truncated":false,"content":"-module(doctor).\n-export([loop/0]).\nloop() ->\n  process_flag(trap_exit, true),\n  receive\n    new ->\n      io:format(\"Creating and monitoring process.~n\"),\n      register(revolver, spawn_link(fun roulette:loop/0)),\n      loop();\n    {'EXIT', From, Reason} ->\n      io:format(\"The shooter died with reason ~p.\", [Reason]),\n      io:format(\" Restarting. ~n\"),\n      self() ! new,\n      loop()\nend. \n\nc(doctor).\nDoc = spawn(fun doctor:loop/0).\nDoc ! new.\n% prints \"Creating and monitoring process.\"\n\nrevolver ! 1.\n% prints \"click\"\n\nrevolver ! 3.\n% prints \"bang.\"\n% prints \"The shooter died with reason {roulette,die,at,{8,53,40}}.\nRestarting.\"\n% prints \"Creating and monitoring process.\"\n\nrevolver ! 4.\n% prints \"click\""},"roulette.erl":{"filename":"roulette.erl","type":"text/plain","language":"Erlang","raw_url":"https://gist.githubusercontent.com/heatherjc07/5554054/raw/8b85a74e10bbbadf097eca949920aeb0b5dec7a0/roulette.erl","size":397,"truncated":false,"content":"-module(roulette).\n-export([loop/0]).\n% send a number, 1-6\nloop() ->\nreceive\n  3 -> io:format(\"bang.~n\"), exit({roulette,die,at,erlang:time()});\n  _ -> io:format(\"click~n\"), loop()\nend.\n\nc(roulette).\nGun = spawn(fun roulette:loop/0).\nGun ! 1.\n% prints \"click\"\nGun ! 3.\n% prints \"bang\" and kills roulette process\nGun ! 4.\n% does nothing as process is dead\nGun ! 1.\n% does nothing as process is dead"},"use_buy.erl":{"filename":"use_buy.erl","type":"text/plain","language":"Erlang","raw_url":"https://gist.githubusercontent.com/heatherjc07/5554054/raw/08a03063c39bb456a3f5aec6885789b8502daa3b/use_buy.erl","size":216,"truncated":false,"content":"c(buy).\nPid = spawn(fun buy:purchase/0).\nPid ! {purchase, \"pen\", 3}.\n% prints \"purchase received: 3 pen\"\nPid ! {purchase, \"desk\", 1}.\n% prints \"purchase received: 1 desk\"\nPid ! finished.\n% prints \"purchases finished\""}},"public":true,"created_at":"2013-05-10T12:15:21Z","updated_at":"2015-08-29T13:50:00Z","description":"Erlang day 2","comments":0,"user":null,"comments_url":"https://api.github.com/gists/5554054/comments","owner":{"login":"heatherjc07","id":1538103,"avatar_url":"https://avatars.githubusercontent.com/u/1538103?v=3","gravatar_id":"","url":"https://api.github.com/users/heatherjc07","html_url":"https://github.com/heatherjc07","followers_url":"https://api.github.com/users/heatherjc07/followers","following_url":"https://api.github.com/users/heatherjc07/following{/other_user}","gists_url":"https://api.github.com/users/heatherjc07/gists{/gist_id}","starred_url":"https://api.github.com/users/heatherjc07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heatherjc07/subscriptions","organizations_url":"https://api.github.com/users/heatherjc07/orgs","repos_url":"https://api.github.com/users/heatherjc07/repos","events_url":"https://api.github.com/users/heatherjc07/events{/privacy}","received_events_url":"https://api.github.com/users/heatherjc07/received_events","type":"User","site_admin":false},"forks":[],"history":[{"user":null,"version":"ef696cd9b31b722e373a1d23dac6b1ae199d38c5","committed_at":"2013-12-28T20:12:21Z","change_status":{"total":4,"additions":2,"deletions":2},"url":"https://api.github.com/gists/5554054/ef696cd9b31b722e373a1d23dac6b1ae199d38c5"},{"user":{"login":"heatherjc07","id":1538103,"avatar_url":"https://avatars.githubusercontent.com/u/1538103?v=3","gravatar_id":"","url":"https://api.github.com/users/heatherjc07","html_url":"https://github.com/heatherjc07","followers_url":"https://api.github.com/users/heatherjc07/followers","following_url":"https://api.github.com/users/heatherjc07/following{/other_user}","gists_url":"https://api.github.com/users/heatherjc07/gists{/gist_id}","starred_url":"https://api.github.com/users/heatherjc07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heatherjc07/subscriptions","organizations_url":"https://api.github.com/users/heatherjc07/orgs","repos_url":"https://api.github.com/users/heatherjc07/repos","events_url":"https://api.github.com/users/heatherjc07/events{/privacy}","received_events_url":"https://api.github.com/users/heatherjc07/received_events","type":"User","site_admin":false},"version":"740aa28d002446aa9da953e16b514bb0f5b9bf3a","committed_at":"2013-05-10T12:15:21Z","change_status":{"total":132,"additions":132,"deletions":0},"url":"https://api.github.com/gists/5554054/740aa28d002446aa9da953e16b514bb0f5b9bf3a"}]}