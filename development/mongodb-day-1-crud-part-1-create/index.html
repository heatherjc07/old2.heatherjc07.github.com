<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>MongoDB Day 1 (CRUD Part 1: Create) &#8211; Technical Musing of a Mummy</title>
<meta name="description" content="Creating items in MongoDB">
<meta name="keywords" content="seven databases in seven weeks, nosql, data, mongodb">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://heatherjcampbell.com/images/">
<meta name="twitter:title" content="MongoDB Day 1 (CRUD Part 1: Create)">
<meta name="twitter:description" content="Creating items in MongoDB">
<meta name="twitter:creator" content="@hcampbell07">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="MongoDB Day 1 (CRUD Part 1: Create)">
<meta property="og:description" content="Creating items in MongoDB">
<meta property="og:url" content="http://heatherjcampbell.com/development/mongodb-day-1-crud-part-1-create/">
<meta property="og:site_name" content="Technical Musing of a Mummy">





<link rel="canonical" href="http://heatherjcampbell.com/development/mongodb-day-1-crud-part-1-create/">
<link href="http://heatherjcampbell.com/feed.xml" type="application/atom+xml" rel="alternate" title="Technical Musing of a Mummy Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://heatherjcampbell.com/assets/css/main.min.css">
<link rel="stylesheet" href="http://heatherjcampbell.com/assets/css/code.css">
<!-- Webfonts -->
<script src="//use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://heatherjcampbell.com/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://heatherjcampbell.com/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://heatherjcampbell.com/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://heatherjcampbell.com/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://heatherjcampbell.com/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://heatherjcampbell.com/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://heatherjcampbell.com/images/apple-touch-icon-144x144-precomposed.png">
</head>

<body id="post">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav">
	    <ul>
	        
			<li>
				
					<a href="http://heatherjcampbell.com/about/">About</a>
				 
			</li>
	        
			<li>
				
					<a href="http://heatherjcampbell.com/articles/">Posts</a>
				 
			</li>
	        
			<li>
				
					<a href="http://heatherjcampbell.com/tags/">Tags</a>
				 
			</li>
	        
			<li>
				
					<a href="https://twitter.com/HCampbell07/">Tweets</a>
				 
			</li>
	        
			<li>
				
					<a href="http://heatherjcampbell.com/presentations/">Presentations</a>
				 
			</li>
	        
			<li>
				
					<a href="http://heatherjcampbell.com/reading/">Reading List</a>
				 
			</li>
	        
	        <li><a href="http://heatherjcampbell.com/feed.xml" title="Atom/RSS feed"><i class="icon-rss"></i> Feed</a></li>
	        <li class="dosearch"><i class="icon-search"></i> Search</li>
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<div class="search-wrapper">
	<div class="search-form">
		<input type="text" class="search-field" placeholder="Search...">
		<i class="icon-remove-sign icon-2x"></i>
		<ul class="search-results post-list"></ul><!-- /.search-results -->
	</div><!-- /.search-form -->
</div><!-- ./search-wrapper -->

<header class="masthead">
	<div class="wrap">
        <h1 class="site-title"><a href="http://heatherjcampbell.com">Technical Musing of a Mummy</a></h1>
		<h2 class="site-description" itemprop="description">A Blog About All Things IT Related</h2>
	</div>
</header><!-- /.masthead -->

<div id="main" role="main">
  <article class="hentry">
    
    <div class="entry-wrapper">
      <header class="entry-header">
        <span class="entry-tags"><a href="http://heatherjcampbell.com/tags/#seven databases in seven weeks" title="Pages tagged seven databases in seven weeks">seven databases in seven weeks</a>&nbsp;&bull;&nbsp;<a href="http://heatherjcampbell.com/tags/#nosql" title="Pages tagged nosql">nosql</a>&nbsp;&bull;&nbsp;<a href="http://heatherjcampbell.com/tags/#data" title="Pages tagged data">data</a>&nbsp;&bull;&nbsp;<a href="http://heatherjcampbell.com/tags/#mongodb" title="Pages tagged mongodb">mongodb</a></span>
        
          <h1 class="entry-title">MongoDB Day 1 (CRUD Part 1: Create)</h1>
        
      </header>
      <footer class="entry-meta">
        <img src="http://heatherjcampbell.com/images/bio-photo.JPG" alt="Heather Campbell photo" class="author-photo">
        <span class="author vcard">By <span class="fn"><a href="http://heatherjcampbell.com/about/" title="About Heather Campbell">Heather Campbell</a></span></span>
        <span class="entry-date date published"><time datetime="2013-01-30T00:00:00+00:00"><i class="icon-calendar-empty"></i> January 30, 2013</time></span>
        
        
        <span><a href="http://heatherjcampbell.com/development/mongodb-day-1-crud-part-1-create/" rel="bookmark" title="MongoDB Day 1 (CRUD Part 1: Create)"><i class="icon-link"></i> Permalink</a></span>
        
        <span class="social-share-facebook">
            <a href="https://www.facebook.com/sharer/sharer.php?u=http://heatherjcampbell.com/development/mongodb-day-1-crud-part-1-create/" title="Share on Facebook" itemprop="Facebook"><i class="icon-facebook-sign"></i> Like</a></span>
        <span class="social-share-twitter">
            <a href="https://twitter.com/intent/tweet?hashtags=development&text=MongoDB Day 1 (CRUD Part 1: Create)&url=http://heatherjcampbell.com/development/mongodb-day-1-crud-part-1-create/&via=hcampbell07" title="Share on Twitter" itemprop="Twitter"><i class="icon-twitter-sign"></i> Tweet</a></span>
        <span class="social-share-googleplus">
            <a href="https://plus.google.com/share?url=http://heatherjcampbell.com/development/mongodb-day-1-crud-part-1-create/" title="Share on Google Plus" itemprop="GooglePlus"><i class="icon-google-plus-sign"></i> +1</a></span>
            <!-- /.social-share -->
      </footer>
      <div class="entry-content">
        <p><em>My experience of Day 1 with <a href="http://www.mongodb.org">MongoDB</a> in <a href="http://pragprog.com/book/rwdata/seven-databases-in-seven-weeks">Seven Databases In Seven Weeks</a>.</em></p>

<p>In my previous post I talked about some of the features of MongoDB. In this post I want to look at creating a database with collections and documents. I’m going to take the very unoriginal approach of creating a database to store blog articles. The 10gen dev course takes you through building a blog using MongoDB and Python and <a href="http://pragprog.com/book/rwdata/seven-databases-in-seven-weeks">Seven Databases In Seven Weeks</a> has this as a homework exercise.</p>

<p>The first thing we need to do is start MongoDB by opening up a command prompt and using the <code>mongod</code> command in the bin directory of our install. Once the server has started up we can interact with it via the command line interface which comes with MongoDB. In a second command prompt go to the bin directory of the install and type <code>mongo</code>. This will take you into the MongoDB Command Line. By default if you don’t specify a database it use the <em>test</em> database. We’re going to use a database called <em>blogger</em>. As we’re already in the Command line I’ll create and switch to the blogger database by typing the command use blogger.</p>

<p><img src="http://heatherjcampbell.com/images/mongo-crud-create/create_db.JPG" alt="create db" /></p>

<p>Another option would have been to use <code>mongo blogger</code> to start up the command line. In both instances MongoDB creates the database if it doesn’t already exist, otherwise it just sets it to the database in use so any further commands we run will run against it. Now lets create our first document.We create a document using the insert command.</p>

<p><img src="http://heatherjcampbell.com/images/mongo-crud-create/insert_doc.JPG" alt="insert document" /></p>

<p>In the command above I’m adding the document to a collection called <code>articles</code>. MongoDB will create this collection if it does not already exist. My document is made up of lots of name value pairs. My tag field is an array of strings and my comments field is an array of nested documents which represent the comments people have made about the article.
To verify the articles collection exists run the following command.</p>

<p><img src="http://heatherjcampbell.com/images/mongo-crud-create/view_collections.JPG" alt="view collections" /></p>

<p>Our articles collection and the system collection system.indexes are returned.
As there is only one document currently in the articles collection I can retrieve it using the find command without specifying any criteria. I’ve used the pretty command to make the result easier to read.</p>

<p><img src="http://heatherjcampbell.com/images/mongo-crud-create/find_docs.JPG" alt="find docs" /></p>

<p>I want to create multiple documents with the same structure so to reduce the amount of code I need to write I’m going to create a JavaScript function to create my blog entries. The Mongo shell is a JavaScript Shell so I can just type my function in and start using it.
Here is the function.</p>

<p><img src="http://heatherjcampbell.com/images/mongo-crud-create/insert_function.JPG" alt="insert function" /></p>

<p>And here is an example of using it.</p>

<p><img src="http://heatherjcampbell.com/images/mongo-crud-create/use_function.JPG" alt="use function" /></p>

<p>I can prove the document has added correctly using the find command with the condition title is Fun with Haskell.</p>

<p><img src="http://heatherjcampbell.com/images/mongo-crud-create/find_doc.JPG" alt="find doc" /></p>

<p>That’s the basics of creating a database, collection and documents covered. In my next post I’ll look at searching for documents.</p>


        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
        <a href="http://heatherjcampbell.com/development/neo4j-day-1-gremlin/" class="btn" title="Neo4j Day 1 (Gremlin)">Previous article</a>
      
      
        <a href="http://heatherjcampbell.com/development/mongodb-day-1-intro/" class="btn" title="MongoDB Day 1 (Intro)">Next article</a>
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2016 Heather Campbell. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/so-simple/">So Simple Theme</a>.</span>
<div class="social-icons">
	<a href="http://twitter.com/hcampbell07" title="Heather Campbell on Twitter" target="_blank"><i class="icon-twitter icon-2x"></i></a>
	
	
	
	
	
	
	<a href="http://github.com/heatherjc07" title="Heather Campbell on Github" target="_blank"><i class="icon-github icon-2x"></i></a>
	
</div><!-- /.social-icons -->
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://heatherjcampbell.com/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://heatherjcampbell.com/assets/js/scripts.min.js"></script>

<!-- Jekyll Simple Search option -->
<script>
  $(document).ready(function() {
      $('.search-field').simpleJekyllSearch({
          jsonFile : 'http://heatherjcampbell.com/search.json',
          searchResults : '.search-results',
          template : '<li><article><a href="{url}">{title} <span class="entry-date"><time datetime="{date}">{shortdate}</time></span></a></article></li>',
          noResults: '<p>Nothing found.</p>'
        });
  });

  (function( $, window, undefined ) {
    
     var bs = {
          close: $(".icon-remove-sign"),
          searchform: $(".search-form"),
          canvas: $("body"),
          dothis: $('.dosearch')
      };
    
    bs.dothis.on('click', function() {
      $('.search-wrapper').css({ display: "block" });
      bs.searchform.toggleClass('active');
      bs.searchform.find('input').focus();
      bs.canvas.toggleClass('search-overlay');
    });
    
      bs.close.on('click', function() {
        $('.search-wrapper').removeAttr( 'style' );
        bs.searchform.toggleClass('active');
        bs.canvas.removeClass('search-overlay');
    });
  })( jQuery, window );
</script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl = 
 '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-69172837-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>	        

</body>
</html>
